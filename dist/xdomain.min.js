parcelRequire=function(e,r,n){var t="function"==typeof parcelRequire&&parcelRequire,i="function"==typeof require&&require;function u(n,o){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!o&&f)return f(n,!0);if(t)return t(n,!0);if(i&&"string"==typeof n)return i(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}a.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,a,l,l.exports)}return r[n].exports;function a(e){return u(a.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=t;for(var o=0;o<n.length;o++)u(n[o]);return u}({3:[function(require,module,exports) {
var e,t,n,r,o,i,s,a,u,d,f,c,l,p,h,y,v,g,w,m,b,x,L,T,C,R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};g=window.document,t="before",e="after",f="readyState",d="addEventListener",u="removeEventListener",o="dispatchEvent",h="XMLHttpRequest",i="FormData",c=["load","loadend","loadstart"],n=["progress","abort","error","timeout"],b=parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1]),isNaN(b)&&(b=parseInt((/trident\/.*; rv:(\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])),(C=Array.prototype).indexOf||(C.indexOf=function(e){var t,n,r;for(t=n=0,r=this.length;n<r;t=++n)if(this[t]===e)return t;return-1}),L=function(e,t){return Array.prototype.slice.call(e,t)},v=function(e){return"returnValue"===e||"totalSize"===e||"position"===e},m=function(e,t){var n;for(n in e)if(e[n],!v(n))try{t[n]=e[n]}catch(e){}return t},x=function(e,t,n){var r,i,s,a;for(i=function(e){return function(r){var i,s,a;for(s in i={},r)v(s)||(a=r[s],i[s]=a===t?n:a);return n[o](e,i)}},s=0,a=e.length;s<a;s++)r=e[s],n._has(r)&&(t["on"+r]=i(r))},w=function(e){var t;if(null!=g.createEventObject)return(t=g.createEventObject()).type=e,t;try{return new Event(e)}catch(t){return{type:e}}},(T=(r=function(e){var t,n,r;return n={},r=function(e){return n[e]||[]},(t={})[d]=function(e,t,o){n[e]=r(e),n[e].indexOf(t)>=0||(o=void 0===o?n[e].length:o,n[e].splice(o,0,t))},t[u]=function(e,t){var o;void 0!==e?(void 0===t&&(n[e]=[]),-1!==(o=r(e).indexOf(t))&&r(e).splice(o,1)):n={}},t[o]=function(){var n,o,i,s,a,u,d;for(o=(n=L(arguments)).shift(),e||(n[0]=m(n[0],w(o))),(s=t["on"+o])&&s.apply(t,n),i=a=0,u=(d=r(o).concat(r("*"))).length;a<u;i=++a)d[i].apply(t,n)},t._has=function(e){return!(!n[e]&&!t["on"+e])},e&&(t.listeners=function(e){return L(r(e))},t.on=t[d],t.off=t[u],t.fire=t[o],t.once=function(e,n){var r;return r=function(){return t.off(e,r),n.apply(null,arguments)},t.on(e,r)},t.destroy=function(){return n={}}),t})(!0)).EventEmitter=r,T[t]=function(e,n){if(e.length<1||e.length>2)throw"invalid hook";return T[d](t,e,n)},T[e]=function(t,n){if(t.length<2||t.length>3)throw"invalid hook";return T[d](e,t,n)},T.enable=function(){window[h]=p,s&&(window[i]=l)},T.disable=function(){window[h]=T[h],s&&(window[i]=s)},y=T.headers=function(e,t){var n,r,o,i,s,a,u,d,f;switch(null==t&&(t={}),void 0===e?"undefined":R(e)){case"object":for(o in r=[],e)s=e[o],i=o.toLowerCase(),r.push(i+":\t"+s);return r.join("\n");case"string":for(u=0,d=(r=e.split("\n")).length;u<d;u++)n=r[u],/([^:]+):\s*(.+)/.test(n)&&(i=null!=(f=RegExp.$1)?f.toLowerCase():void 0,a=RegExp.$2,null==t[i]&&(t[i]=a));return t}},s=window[i],l=function(e){var t,n;this.fd=e?new s(e):new s,this.form=e,t=[],Object.defineProperty(this,"entries",{get:function(){return(e?L(e.querySelectorAll("input,select")).filter(function(e){var t;return"checkbox"!==(t=e.type)&&"radio"!==t||e.checked}).map(function(e){return[e.name,"file"===e.type?e.files:e.value]}):[]).concat(t)}}),this.append=(n=this,function(){var e;return e=L(arguments),t.push(e),n.fd.append.apply(n.fd,e)})},s&&(T[i]=s,window[i]=l),a=window[h],T[h]=a,p=window[h]=function(){var i,s,a,u,p,v,g,w,L,C,O,S,A,M,j,H,U,N,k,q;U=new T[h],A=null,v=void 0,M=void 0,O=void 0,L=function(){var e,t,n,r;if(O.status=A||U.status,-1===A&&b<10||(O.statusText=U.statusText),-1!==A)for(e in r=y(U.getAllResponseHeaders()))n=r[e],O.headers[e]||(t=e.toLowerCase(),O.headers[t]=n)},w=function(){U.responseType&&"text"!==U.responseType?"document"===U.responseType?(O.xml=U.responseXML,O.data=U.responseXML):O.data=U.response:(O.text=U.responseText,O.data=U.responseText),"responseURL"in U&&(O.finalUrl=U.responseURL)},H=function(){p.status=O.status,p.statusText=O.statusText},j=function(){"text"in O&&(p.responseText=O.text),"xml"in O&&(p.responseXML=O.xml),"data"in O&&(p.response=O.data),"finalUrl"in O&&(p.responseURL=O.finalUrl)},a=function(e){for(;e>i&&i<4;)p[f]=++i,1===i&&p[o]("loadstart",{}),2===i&&H(),4===i&&(H(),j()),p[o]("readystatechange",{}),4===i&&setTimeout(s,0)},s=function(){v||p[o]("load",{}),p[o]("loadend",{}),v&&(p[f]=0)},i=0,S=function(t){var n,r;4===t?(n=T.listeners(e),(r=function(){var e;return n.length?2===(e=n.shift()).length?(e(C,O),r()):3===e.length&&C.async?e(C,O,r):r():a(4)})()):a(t)},p=(C={}).xhr=r(),U.onreadystatechange=function(e){try{2===U[f]&&L()}catch(e){}4===U[f]&&(M=!1,L(),w()),S(U[f])},g=function(){v=!0},p[d]("error",g),p[d]("timeout",g),p[d]("abort",g),p[d]("progress",function(){i<3?S(3):p[o]("readystatechange",{})}),("withCredentials"in U||T.addWithCredentials)&&(p.withCredentials=!1),p.status=0;for(N=0,k=(q=n.concat(c)).length;N<k;N++)u=q[N],p["on"+u]=null;return p.open=function(e,t,n,r,o){i=0,v=!1,M=!1,C.headers={},C.headerNames={},C.status=0,(O={}).headers={},C.method=e,C.url=t,C.async=!1!==n,C.user=r,C.pass=o,S(1)},p.send=function(e){var r,o,i,s,a,u,d,f;for(u=0,d=(f=["type","timeout","withCredentials"]).length;u<d;u++)(i="type"===(o=f[u])?"responseType":o)in p&&(C[o]=p[i]);C.body=e,a=function(){var e,t,r,s,a,u;for(x(n,U,p),p.upload&&x(n.concat(c),U.upload,p.upload),M=!0,U.open(C.method,C.url,C.async,C.user,C.pass),r=0,s=(a=["type","timeout","withCredentials"]).length;r<s;r++)i="type"===(o=a[r])?"responseType":o,o in C&&(U[i]=C[o]);for(e in u=C.headers)t=u[e],e&&U.setRequestHeader(e,t);C.body instanceof l&&(C.body=C.body.fd),U.send(C.body)},r=T.listeners(t),(s=function(){var e,t;return r.length?((e=function(e){if("object"===(void 0===e?"undefined":R(e))&&("number"==typeof e.status||"number"==typeof O.status))return m(e,O),E.call(e,"data")<0&&(e.data=e.response||e.text),void S(4);s()}).head=function(e){return m(e,O),S(2)},e.progress=function(e){return m(e,O),S(3)},1===(t=r.shift()).length?e(t(C)):2===t.length&&C.async?t(C,e):e()):a()})()},p.abort=function(){A=-1,M?U.abort():p[o]("abort",{})},p.setRequestHeader=function(e,t){var n,r;n=null!=e?e.toLowerCase():void 0,r=C.headerNames[n]=C.headerNames[n]||e,C.headers[r]&&(t=C.headers[r]+", "+t),C.headers[r]=t},p.getResponseHeader=function(e){var t;return t=null!=e?e.toLowerCase():void 0,O.headers[t]},p.getAllResponseHeaders=function(){return y(O.headers)},U.overrideMimeType&&(p.overrideMimeType=function(){return U.overrideMimeType.apply(U,arguments)}),U.upload&&(p.upload=C.upload=r()),p},module.exports=T;
},{}],7:[function(require,module,exports) {
var e=function e(s){s&&(s.masters&&e.masters(s.masters),s.slaves&&e.slaves(s.slaves))};e.debug=!1,e.timeout=15e3,e.cookies={master:"Master-Cookie",slave:"Slave-Cookie"},module.exports=e;
},{}],4:[function(require,module,exports) {
var global = (1,eval)("this");
var r=(0,eval)("this"),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},t=require("../vendor/xhook"),e=require("./config");exports.COMPAT_VERSION="V1";var n=window,i=n.location;exports.currentOrigin=i.protocol+"//"+i.host,e.origin=exports.currentOrigin,exports.globalEmitter=t.EventEmitter(!0),exports.console=window.console||{};var p=0;exports.guid=function(){p>=1e6&&(p=0);for(var r=String(++p);r.length<6;)r="0"+r;return"xdomain-"+r},exports.slice=function(r,o){return Array.prototype.slice.call(r,o)};var l=function(r){return function(o){o="xdomain ("+exports.currentOrigin+"): "+o,exports.globalEmitter.fire(r,o),("log"!==r||e.debug)&&(r in e?e[r](o):r in console?console[r](o):"warn"===r&&alert(o))}};exports.log=l("log"),exports.warn=l("warn"),exports.instOf=function(r,o){return o in window&&r instanceof window[o]},exports.parseUrl=function(r){return/^((https?:)?\/\/[^\/\?]+)(\/.*)?/.test(r)?{origin:(RegExp.$2?"":i.protocol)+RegExp.$1,path:RegExp.$3}:(exports.log("failed to parse absolute url: "+r),null)},e.parseUrl=exports.parseUrl,exports.toRegExp=function(r){if(r instanceof RegExp)return r;var o=r.toString().replace(/\W/g,function(r){return"\\"+r}).replace(/\\\*/g,".*");return new RegExp("^"+o+"$")},exports.strip=function(r){var t={};for(var e in r)if("returnValue"!==e){var n=r[e];["function","object"].includes(void 0===n?"undefined":o(n))||(t[e]=n)}return t};
},{"../vendor/xhook":3,"./config":7}],9:[function(require,module,exports) {
var e=require("../vendor/xhook"),t=require("./config"),r=require("./util"),o=r.log,a=r.warn,n=r.toRegExp,s=r.strip,i=r.parseUrl,d=r.COMPAT_VERSION,l=!1,u={};exports.addMasters=function(e){if(window!==window.parent)for(var t in l||(l=!0,o("now handling incoming sockets..."),window.parent.postMessage("XDPING_"+d,"*")),e){var r=e[t];"file://"===t&&"*"!==r&&(a("file protocol only supports the * path"),r="*"),o("adding master: "+t),u[t]=r}else a("slaves must be in an iframe")},t.masters=exports.addMasters,exports.handleSocket=function(t,r){if(l){"null"===t&&(t="file://"),o('handle socket for "'+t+'"');var d=null;for(var p in u){var f=u[p];try{if(n(p).test(t)){d=n(f);break}}catch(e){}}d?(r.once("request",function(t){o("request: "+t.method+" "+t.url);var n=i(t.url);if(!n||!d.test(n.path))return a("blocked request to path: '"+n.path+"' by regex: "+d),void r.close();var l=new XMLHttpRequest;for(var u in l.open(t.method,t.url),l.addEventListener("*",function(e){return r.emit("xhr-event",e.type,s(e))}),l.upload&&l.upload.addEventListener("*",function(e){return r.emit("xhr-upload-event",e.type,s(e))}),l.onreadystatechange=function(){if(4===l.readyState){var t={status:l.status,statusText:l.statusText,data:l.response,headers:e.headers(l.getAllResponseHeaders())};try{t.text=l.responseText}catch(e){}return r.emit("response",t)}},r.once("abort",function(){return l.abort()}),t.withCredentials&&(l.withCredentials=!0,t.slaveCookie&&(t.headers[t.slaveCookie]=document.cookie)),t.timeout&&(l.timeout=t.timeout),t.type&&(l.responseType=t.type),t.headers){var p=t.headers[u];l.setRequestHeader(u,p)}if(t.body instanceof Array&&"XD_FD"===t.body[0]){var f=new e.FormData,c=t.body[1],v=!0,h=!1,y=void 0;try{for(var m,b=Array.from(c)[Symbol.iterator]();!(v=(m=b.next()).done);v=!0){var w=m.value;if("XD_BLOB"===w[0]&&4===w.length){var x=new Blob([w[2]],{type:w[3]});(w=w[1])[1]=x}f.append.apply(f,w)}}catch(e){h=!0,y=e}finally{try{!v&&b.return&&b.return()}finally{if(h)throw y}}t.body=f}l.send(t.body||null)}),o("slave listening for requests on socket: "+r.id)):a("blocked request from: '"+t+"'")}};
},{"../vendor/xhook":3,"./config":7,"./util":4}],5:[function(require,module,exports) {
var e=require("../vendor/xhook"),t=require("./config"),i=require("./util"),r=i.globalEmitter,n=i.log,o=i.warn,s=i.COMPAT_VERSION,a=require("./slave"),c=a.handleSocket,f="XD_CHECK",u=100,l={},d=!0;exports.createSocket=function(i,s){var a=!1,c=e.EventEmitter(!0);l[i]=c,c.id=i,c.once("close",function(){c.destroy(),c.close()});var v=[];c.emit=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var o="string"==typeof t[1]?" -> "+t[1]:"";n("send socket: "+i+": "+t[0]+o),t.unshift(i),a?m(t):v.push(t)};var m=function(e){d&&(e=JSON.stringify(e)),s.postMessage(e,"*")};c.close=function(){c.emit("close"),n("close socket: "+i),l[i]=null},c.once(f,function(e){for(d="string"==typeof e,a=c.ready=!0,c.emit("ready"),n("ready socket: "+i+" (emit #"+v.length+" pending)");v.length;)m(v.shift())});var g=0;return setTimeout(function e(){s.postMessage([i,f,{}],"*"),a||(g++>=t.timeout/u?(o("Timeout waiting on iframe socket"),r.fire("timeout"),c.fire("abort")):(n("check again in "+u+"ms..."),setTimeout(e,u)))}),n("new socket: "+i),c},exports.initialise=function(){var e=function(e){var t=e.data;if("string"==typeof t){if(/^XDPING(_(V\d+))?$/.test(t)&&RegExp.$2!==s)return o("your master is not compatible with your slave, check your xdomain.js version");if(/^xdomain-/.test(t))t=t.split(",");else if(d)try{t=JSON.parse(t)}catch(e){return}}if(t instanceof Array){var i=t.shift();if(/^xdomain-/.test(i)){var r=l[i];if(null!==r){if(void 0===r){if(!c)return;r=exports.createSocket(i,e.source),c(e.origin,r)}var a="string"==typeof t[1]?" -> "+t[1]:"";n("receive socket: "+i+": "+t[0]+a),r.fire.apply(r,t)}}}};return document.addEventListener?window.addEventListener("message",e):window.attachEvent("onmessage",e)};
},{"../vendor/xhook":3,"./config":7,"./util":4,"./slave":9}],8:[function(require,module,exports) {
var r=function(){return function(r,e){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return function(r,e){var n=[],t=!0,i=!1,o=void 0;try{for(var a,u=r[Symbol.iterator]();!(t=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);t=!0);}catch(r){i=!0,o=r}finally{try{!t&&u.return&&u.return()}finally{if(i)throw o}}return n}(r,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),e=require("../vendor/xhook"),n=require("./config"),t=require("./util"),i=t.currentOrigin,o=t.log,a=t.warn,u=t.parseUrl,s=t.guid,c=t.strip,d=require("./socket"),l=d.createSocket,f=!1,v={};exports.addSlaves=function(r){for(var n in f||(f=!0,"addWithCredentials"in e||(e.addWithCredentials=!0),e.before(y)),r){var t=r[n];o("adding slave: "+n),v[n]=t}},n.slaves=exports.addSlaves;var y=function(r,e){var n=u(r.url);if(n&&n.origin!==i){if(!v[n.origin])return n&&o("no slave matching: '"+n.origin+"'"),void e();if(o("proxying request to slave: '"+n.origin+"'"),!1===r.async)return a("sync not supported because postmessage is async"),void e();var t=p(n.origin,v[n.origin]),c=l(s(),t);c.on("response",function(r){e(r),c.close()}),r.xhr.addEventListener("abort",function(){return c.emit("abort")}),c.ready?g(r,c):c.once("ready",function(){return g(r,c)})}else e()},h={},p=function(r,e){if(h[r])return h[r];var n=document.createElement("iframe");return n.id=n.name=s(),o("creating iframe "+n.id),n.src=""+r+e,n.setAttribute("style","display:none;"),document.body.appendChild(n),h[r]=n.contentWindow},m=function(e,n){var t=Array.from(e),i=r(t,2),o=(i[0],i[1]),a=instOf(o,"Blob"),u=instOf(o,"File");if(!a&&!u)return 0;var s=new FileReader;return s.onload=function(){return e[1]=null,u&&(e[2]=o.name),n(["XD_BLOB",e,this.result,o.type])},s.readAsArrayBuffer(o),1},b=function(e,n){e.forEach(function(n,t){var i=Array.from(n),o=r(i,2),a=o[0],u=o[1];if(instOf(u,"FileList")){e.splice(t,1);var s=!0,c=!1,d=void 0;try{for(var l,f=Array.from(u)[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){var v=l.value;e.splice(t,0,[a,v])}}catch(r){c=!0,d=r}finally{try{!s&&f.return&&f.return()}finally{if(c)throw d}}}});var t=0;e.forEach(function(r,i){t+=m(r,function(r){e[i]=r,0==--t&&n()})}),0===t&&n()},g=function(r,e){e.on("xhr-event",function(){return r.xhr.dispatchEvent.apply(null,arguments)}),e.on("xhr-upload-event",function(){return r.xhr.upload.dispatchEvent.apply(null,arguments)});var t=c(r);t.headers=r.headers,r.withCredentials&&(n.cookies.master&&(t.headers[n.cookies.master]=document.cookie),t.slaveCookie=n.cookies.slave);var i=function(){return e.emit("request",t)};if(r.body&&(t.body=r.body,instOf(t.body,"FormData"))){var o=t.body.entries;return t.body=["XD_FD",o],void b(o,i)}i()};
},{"../vendor/xhook":3,"./config":7,"./util":4,"./socket":5}],6:[function(require,module,exports) {
var r=require("./config"),e=require("./util"),i=e.parseUrl,a=require("./master"),t=a.addSlaves,n=require("./slave"),o=n.addMasters,f=window,l=f.document;exports.initialise=function(){var e={debug:function(e){"string"==typeof e&&(r.debug="false"!==e)},slave:function(r){if(r){var e=i(r);if(e){var a={};a[e.origin]=e.path,t(a)}}},master:function(r){var e=void 0;if(r&&(e="*"===r?{origin:"*",path:"*"}:"file://*"===r?{origin:"file://",path:"*"}:i(r))){var a={};a[e.origin]=e.path.replace(/^\//,"")?e.path:"*",o(a)}}},a=!0,n=!1,f=void 0;try{for(var v,s=Array.from(l.getElementsByTagName("script"))[Symbol.iterator]();!(a=(v=s.next()).done);a=!0){var u=v.value;if(/xdomain/.test(u.src))for(var d=["","data-"],g=0;g<d.length;g++){var c=d[g];for(var p in e){(0,e[p])(u.getAttribute(c+p))}}}}catch(r){n=!0,f=r}finally{try{!a&&s.return&&s.return()}finally{if(n)throw f}}};
},{"./config":7,"./util":4,"./master":8,"./slave":9}],2:[function(require,module,exports) {
"use strict";for(var i=require("./lib/util"),r=i.warn,e=["postMessage","JSON"],s=0;s<e.length;s++){var t=e[s];window[t]||r("requires '"+t+"' and this browser does not support it")}var o=require("./lib/socket");o.initialise();var a=require("./lib/script");a.initialise();var l=require("./lib/config");module.exports=l;
},{"./lib/util":4,"./lib/socket":5,"./lib/script":6,"./lib/config":7}],1:[function(require,module,exports) {
var o=require("./vendor/xhook");window.xhook=o;var r=require("./index");window.xdomain=r;
},{"./vendor/xhook":3,"./index":2}]},{},[1])