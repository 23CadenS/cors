
<html>
<head>
  <title></title>

  <!-- jQuery -->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <!-- XDomain -->
  <script src="dist/xdomain.js"></script>
  <!-- Demo -->
  <script type="text/javascript">

  !function() {

    var origin, path;

    if(location.origin === 'http://abc.example.com:3000') {
      origin = 'http://xyz.example.com:3000';
      path = '/xdomain'
    } else if(location.origin === 'http://xdomain.jpillora.com') {
      origin = 'http://jpillora.github.io';
      path = ''
    }

    if(!origin) return;

    var slaves = {};
    slaves[origin] = path + '/example/proxy.html'

    $.xdomain({
      slaves: slaves
    });

    $.get(origin + path +'/example/data.json').always(function() {
      console.log("got result:", arguments);
    });

  }();
  </script>
</head>
<body>

  <h3>XDomain Demo</h3>

  <h4 id="host"></h4>
  <script type="text/javascript">
    document.getElementById('host').innerHTML = window.location.origin;
  </script>

  <h4>Check your console</h4>

</body>
</html>


